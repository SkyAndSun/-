

## GC和GC分配策略 

[https://www.cnblogs.com/zhehuaxuan/p/7400390.html](https://www.cnblogs.com/zhehuaxuan/p/7400390.html)

算法：  
引用计数法  
标记清除法  
复制法  
分代回收法  






## 类加载机制
[http://www.importnew.com/25295.html](http://www.importnew.com/25295.html)

加载、验证、准备、解析、初始化、使用、死亡

**类加载器**

双亲委派模型


##分布式系统中的一致性协议总结
[https://blog.csdn.net/chdhust/article/details/52651741](https://blog.csdn.net/chdhust/article/details/52651741)


##redis 5种数据结构讲解及使用场景
	
***1.字符串***

- 字符串类型是redis最基础的数据结构，首先键是字符串类型，而且其他几种结构都是在字符串类型基础上构建的，  
- 所以字符串类型能为其他四种数据结构的学习尊定基础。  
- 字符串类型实际上可以是字符串  
- （简单的字符串、复杂的字符串（xml、json）、数字（整数、浮点数）、二进制（图片、音频、视频）），  
- 但最大不能超过512M  

**使用场景**
缓存功能：字符串最经典的使用场景，reids作为缓存层，Mysql作为存储层，绝大部分请求数据都是redirs中获取，由于redis具有支撑高并发特性，所以缓存通常能起到加速读写和降低后端压力的作用。

计数器：许多运用都会使用redis作为计数的基础工具，可以实现快速计数、查询缓存的功能，同时数据可以异步落地到其他数据源  
  如 视频播放系统就是使用redis作为视频播放数基数的基础组件

共享session：出于负载均衡的考虑，分布式服务会将用户信息的访问均匀到不同服务器上，用户刷新一次访问可能需要重新登录，为避免这个问题可以用redis将用户session集中管理，在这种模式下只要保证redis的高可用和扩展性，每次获取用户更新或查询登录信息都直接从redis中集获取


限速：出于安全考虑，每次进行登录时让用户输入手机验证码，为了短信接口不被频繁访问，会限制用户每分钟获取验证码的频率


***2.哈希***

在redis中哈希类型是指键本身又是一种键值对结构，  
如 value={{filed1,value1},...{fileldN,valueN}}

使用场景：

哈希结构相对于字符串序列化缓存信息更加直观，并且在更新操作上更加便捷。  
所以常常用于**用户信息**等管理，但是哈希类型和关系型数据库有所不同，哈希类型是稀疏的，  
而关系类型数据库是完全结构化的，关系型数据库可以做复杂的关系查询，而redirs去模拟关系型复杂查询开发困难，维护成本高。


***3.列表***

列表类型是用来存储多个有序的字符串，列表中的每个字符串称为元素，一个列表最多可以存储2的32次方-1个元素，  
在redirs中，可以从队列两端插入（push） 和 弹出（pop），还可以获取指定范围的元素、列表、获取指定索引下表的元素等，列表是一种比较灵活的数据结构，他可以充当栈和队列的角色

优点：
1.列表的元素是有序的，这意味着可以通过索引下标获取某个或某个范围的元素列表

2.列表内的元素是可以重复的

**使用场景：**

消息队列：redis的lpush+brpop命令即可实现阻塞队列，生产者客户端是用lupsh从列表左侧插入元素。  
多个消费者客户端使用brpop命令阻塞时的“抢”列表尾部的元素，多个客户端保证了消费的负载均衡和高可用性


***4.集合*** 

集合类型也是用来保存多个字符串的元素，但和列表不同的是集合中不允许有重复的元素，并且集合中的元素是无序的，不能通过索引下标获取元素，redis除了支持集合内的增删改查，同时还支持多个集合取交集、并集、差集，并合理的使用好集合类型，能在实际开发中解决很多实际问题。


**使用场景：**

 标签（tag）：集合类型比较典型的使用场景，如一个用户对娱乐、体育比较感兴趣，另一个可能对新闻感兴
 趣，这些兴趣就是标签，有了这些数据就可以得到同一标签的人，以及用户的共同爱好的标签，
 这些数据对于用户体验以及曾强用户粘度比较重要。
 （用户和标签的关系维护应该放在一个事物内执行，防止部分命令失败造成数据不一致）

sadd=tagging（标签）  
spop/srandmember=random item（生成随机数，比如抽奖）  
sadd+sinter=social Graph(社交需求)  


***5.有序集合***

有序集合和集合有着必然的联系，他保留了集合不能有重复成员的特性，但不同得是，有序集合中的元素是可以
排序的，但是它和列表的使用索引下标作为排序依据不同的是，它给每个元素设置一个分数，作为排序的依据。
（有序集合中的元素不可以重复，但是csore可以重复，就和一个班里的同学学号不能重复，但考试成绩可以相
同）。

**使用场景：**

排行榜：有序集合经典使用场景。例如视频网站需要对用户上传的视频做排行榜，榜单维护可能是多方面：  
按照时间、按照播放量、按照获得的赞数等。